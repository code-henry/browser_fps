ロボット（巨大キャラクター）デザイン仕様（初版）

1) コンセプト
- 大きな直方体（立方体）を胴体とし、その上に小さな立方体の顔を載せる。
- 腕は小さめの直方体を左右に1本ずつ。銃／砲台の代替表現として扱う。
- 都市（建物群）のスケール感に合う巨大感・シルエット重視。

2) 形状・寸法（基準値）
- 胴体（Torso）: 立方体 40 × 40 × 40（中心は胴体中央）
- 顔（Head）  : 立方体 18 × 18 × 18（胴体上面から+1の隙間で中央載せ）
- 腕（Arms）  : 直方体 10 × 24 × 10（左右に1本ずつ、胴体側面から少し張り出し）
- 腕の取付位置: 胴体中心Yを基準に、やや上（例: 胴体高さの60%）
- 余白（クリアランス）: 胴体対角/2 + 60 を目安に、周辺オブジェクトを避ける半径

3) マテリアルと可視化
- 色: 明るいグレー（0xDDDDDD）をベース。都市の建物（白）と差別化。
- エッジ: EdgesGeometry + 黒ラインでアウトラインを強調（視認性・スケール感UP）。
- 影: castShadow / receiveShadow を有効化し、巨大物感を演出。

4) 配置ルール（建物と被らない）
- ロボットの中心（XZ）位置と、占有半径（胴体対角/2 + 60）で「予約領域」を管理。
- 建物生成時は予約領域と重ならないよう除外判定を行う。
- 推奨配置例: 都市中心から離して3体を分散（例: (-220,-220), (0,260), (260,20)）。

5) 当たり判定／レイキャスト
- 基本は BoxGeometry を当たり判定対象に含める（ワイヤーやシュートのレイに反応）。
- 「掴めない／ロック不可」にしたい場合は、専用レイヤーやユーザーデータで除外可。

6) 参照座標・原点
- 胴体メッシュの position がロボット全体の基準。
- 顔・腕は胴体基準で相対配置（グループ化して一体管理）。
- Y軸は上方向。地面の基準Yは 5（現状の地面スナップに合わせる）。

7) アニメーション／インタラクション（将来案）
- 軽い首振り/腕のピッチで「見張り」感の演出。
- 腕先端の発光（マテリアル色を瞬間的に変える）で発射表現を簡易化。
- 撃破時は胴体スケールを縮小→フェード、または崩落（Y方向へ段階的に落下）。

8) スケールと都市のバランス
- 建物底面が大きい都市では、胴体40だと「やや大」〜「中程度」。
- 都市密度・建物高さに合わせ、胴体を 40〜80 の間で調整すると見栄えが安定。
- ロボット間の距離は占有半径×2 以上を確保（シルエットの干渉を避ける）。

9) three.js 実装メモ
- Group を作成し、Torso/Head/ArmL/ArmR を追加。各メッシュに castShadow を設定。
- EdgesGeometry を各パーツに適用し、LineSegments を Group に同居させる。
- 占有半径の算出: torsoHalfDiag = sqrt(3) * (torsoSize / 2)。予約半径は torsoHalfDiag + 余白。

10) バリエーション案
- 色替え: チームカラー（赤/青/緑）で識別。顔だけ色替えも可。
- 形状替え: 胴体を縦長（40×60×40）や横長（60×40×40）にしてシルエット差を出す。
- 装飾: 肩や胸に薄いプレート（薄いBox）を追加してボリューム感を補う。

11) 拡張フック（ゲーム性）
- ヒットポイント/弱点: 顔ヒットで大ダメージ、胴体は耐久高めなど。
- センサーコーン: 正面一定角度にプレイヤー検知レイを飛ばし、追尾/警戒モードへ。
- ノックバック: 被弾時に小さな衝撃（position を少し押す）で重量感を表現。

12) 調整パラメータ（推奨公開）
- torsoSize, headSize, armSize（W/H/D）
- color（ベースカラー）, edgeColor, edgeWidth（プラットフォーム依存）
- reserveMargin（予約領域の余白）, spawnPositions（配置座標の配列）

補足:
- ビルド環境移行（Vite 等）やアセット最適化時も、上記の寸法・予約領域の考え方を維持すれば、建物スケール変更に対しても破綻しにくいです。

